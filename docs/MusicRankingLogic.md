# 📊 Music Ranking Module Logic

## 🎯 模組目標

本模組旨在於 macOS / iOS App 中呈現「最新且真實的音樂推薦資訊」，以排行榜形式展示。不使用 mock data、不播放音樂、不依賴商業 API key。

---

## 🧩 資料來源組合策略

### ✅ iTunes Search API（Apple 提供）
- 無需 API key，直接可用
- 提供歌曲名稱、歌手、專輯封面、預覽連結等
- 資料結構清晰，適合 SwiftUI 整合

**用途：**
- 顯示熱門歌曲資訊
- 搜尋歌手或歌曲
- 顯示專輯封面與歌曲細節

### ✅ Kworb 網頁資料（非官方排行榜）
- 提供 Spotify 串流量、Apple Music 排行榜、Billboard 排名等
- 資料更新頻繁，適合做「排行榜」功能
- 可用爬蟲擷取資料（需注意合法性與頻率）

**用途：**
- 顯示即時熱門歌曲排行
- 顯示歌曲在不同平台的表現

---

## 🔄 資料流程邏輯

1. **擷取排行榜資料（Kworb）**
   - 擷取前 10 名歌曲名稱與歌手
   - 可用爬蟲或手動更新 JSON 檔案

2. **查詢歌曲詳細資料（iTunes API）**
   - 根據歌曲名稱與歌手呼叫 iTunes API
   - 回傳歌曲封面、預覽連結、發行資訊等

3. **整合並顯示（SwiftUI）**
   - 將資料整合為排行榜模型
   - 使用 SwiftUI List 或 Grid 呈現排行榜畫面
   - 點擊歌曲可開啟預覽或跳轉至 iTunes

---

## 🧠 開發原則

- 不使用 mock data
- 所有資料皆來自真實 API 或網頁來源
- 不播放音樂，只呈現資訊
- 所有邏輯需遵守此文件定義的資料流程與來源策略

---

## 🧪 測試建議

- 測試 Kworb 資料解析是否正確
- 測試 iTunes API 查詢是否回傳正確資料
- 測試 SwiftUI 畫面是否能正確綁定資料模型
- 測試資料更新流程是否穩定（例如 App 啟動時自動更新）

---

## 📌 擴充建議

此模組為 App 的其中一個功能元素，未來可擴充為：

- 收藏歌曲功能（儲存使用者喜好）
- 顯示不同地區排行榜（如美國、香港、日本）
- 加入更多資料來源（如 Last.fm、Deezer）
- 加入使用者互動（例如投票、評論）

---

## 🧭 Copilot 使用提示

請在相關 Swift 檔案中加入註解，例如：

```swift
// 根據 MusicRankingLogic.md 的邏輯設計
// 此模組使用 Kworb 排行榜 + iTunes API 顯示真實音樂推薦資訊
```
